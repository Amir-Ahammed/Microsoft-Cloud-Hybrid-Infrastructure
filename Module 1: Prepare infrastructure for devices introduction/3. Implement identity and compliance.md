# Manage Roles in Intune (Role-Based Access Control in Entra ID)
Role-Based Access Control (RBAC) is the system used to delegate administrative permissions within Microsoft Intune. It is built on and integrated with Microsoft Entra ID. To ensure the principle of least privilege by granting users or groups only the permissions they absolutely need to perform their jobs.

## Key Capabilities:
- **Role-Based Access Control (RBAC)**: Entra ID uses RBAC to assign permissions based on roles rather than individual user settings. This simplifies management and improves security.
- **Built-in roles**: Microsoft provides over 100 predefined roles like Global Administrator, User Administrator, Application Administrator, and Security Reader. Each has specific permissions tailored to common tasks
- **Custom roles**: Organizations can create custom roles with granular permissions to meet unique operational needs.
- **Role assignment**: Roles can be assigned to users, groups, or service principals. Assignments can be scoped to the entire tenant or limited to specific administrative units or resources.
- **Just-In-Time (JIT) role activation**: Enables time-bound, approval-based access to privileged roles via Entra ID's Privileged Identity Management (PIM), enforcing least privilege with MFA, audit logging, and reduced standing access.
- **Least privilege principle**: Entra ID encourages assigning only the minimum necessary permissions to reduce risk and improve compliance.

## "Privileged" Roles
Roles marked as **Privileged** have elevated access that can impact tenant-wide configurations and security. These roles should be governed with extra caution:

- **Elevated Access**: Can manage sensitive resources like identity settings, enterprise apps, and security configurations.
- **Governance via PIM**: Supports JIT access, approval workflows, and audit trails.
- **Examples**:
  - Global Administrator
  - Application Administrator
  - Security Administrator
  - Privileged Role Administrator

## Common Built-In Roles

| Role Name                      | Description                                                                 |
|--------------------------------|-----------------------------------------------------------------------------|
| **Global Administrator**       | Full access to all Entra ID features and settings.                         |
| **User Administrator**         | Manage users, groups, and password resets.                                 |
| **Application Administrator**  | Manage enterprise applications and app registrations.                      |
| **Groups Administrator**       | Create, manage, and delete groups and memberships.                         |
| **Authentication Administrator** | Manage MFA settings and authentication methods.                         |
| **Privileged Role Administrator** | Assign roles and manage role settings.                              |

> Microsoft Entra includes over **100 built-in roles**, each tailored to specific administrative tasks.

> ðŸ“š **References**
> - [Microsoft Entra built-in roles](https://learn.microsoft.com/en-us/entra/identity/role-based-access-control/permissions-reference)
> - [Create and manage custom roles in Microsoft Entra ID](https://learn.microsoft.com/en-us/entra/identity/role-based-access-control/custom-roles)
> - [RBAC overview for Microsoft Entra](https://learn.microsoft.com/en-us/entra/identity/role-based-access-control/overview)


# Implement compliance policies
# Implement Conditional Access policies
## What is Conditional Access
**Conditional Access (CA)** is a security feature in Microsoft Entra ID (formerly Azure AD) that helps control how users access cloud apps and resources based on specific conditions. When integrated with Intune, it adds device compliance and app management signals to the decision-making process. 
- **Purpose**: Protect organizational resources by allowing access only when specific conditions are met.
- **Signals used**: User/group, device compliance, location, app sensitivity, sign-in risk, etc.

> **Example**: If a user signs in from an unmanaged device or outside the corporate network, require Multi-Factor Authentication (MFA) before granting access.

## Common Scenarios for Conditional Access
- **Require compliant device**: Only allow access to M365 apps if the device meets Intune compliance policies.
- **Restrict access by location**: Block access from non-corporate or geo-restricted IPs.
- **App-based CA**: Allow access only via approved apps like Outlook mobile.
- **Based on network location**: Allow access only from trusted IP ranges (e.g., corporate VPN or office IPs); block or enforce MFA for unknown networks.
- **Based on device trust**: Grant access only if the device is hybrid Azure AD joined or marked as trusted (e.g., via certificate or compliance state).

## Compliance with or without Conditional Access

| Scenario                    | Behavior                                                                 |
|----------------------------|--------------------------------------------------------------------------|
| **With Conditional Access**    | Access is granted only if the device is compliant with Intune policies (e.g., encryption, OS version, antivirus). |
| **Without Conditional Access** | Devices may be non-compliant but still access corporate resources, reducing security posture. |

> **Note**: Compliance policies alone evaluate device health; Conditional Access enforces access decisions based on that evaluation.

## Conditional Access Policy Settings (Wizard & Template)

### Wizard (Manual)
Steps:
1. Name
2. Assignments
   - All
   - Selected Users or Groups
   - Directory roles: refer to specific administrative roles within Azure Active Directory (AAD) or Microsoft Entra ID that grant users permissions to manage identity-related tasks across the tenant.
4. Target resources (Resources that the policy applies to, including apps, internet resources, actions, or authentication context)
   - Resources (formerly cloud apps)
     - Incloude
       - None
       - All internet resources with Global Secure Access
       - All resources (formerly 'All cloud apps')
       - Select resources
         - Select resources based on attributes
         - Select specific resources
     - Exclude
       - None
       - All internet resources with Global Secure Access
       - Select resources
         - Select resources based on attributes
         - Select specific resources
   - User actions
     - Register security information
     - Register or join devices
   - Authentication context (Authentication context is used to secure application data and actions in apps like SharePoint and Microsoft Cloud App Security.)
6. Network
   - Configure (Yes/No)
   - Incloude
     - Any network or location
     - All trusted networks and locations
     - All Compliant Network locations
     - Selected networks and locations
   - Exclude
     - All trusted networks and locations
     - All Compliant Network locations
     - Selected networks and locations
8. Conditions
   - Device platforms
     - Configure (Yes/No)
       - Include
         - Any device
         - Select device platforms
           - Android/iOS/Windows Phone/Windows/macOS/Linux
       - Exclude
         - Android/iOS/Windows Phone/Windows/macOS/Linux
   - Locations
     - Any network or location
     - All trusted networks and locations
     - All Compliant Network locations
     - Selected networks and locations
   - Client apps
     - Modern authentication clients
       - Browser/Mobile apps and desktop clients
     - Legacy authentication clients
       - Exchange ActiveSync clients/Other clients
   - Filter for devices
     - Devices matching the rule:
       - Include filtered devices in policy
       - Exclude filtered devices from policy
     - Rule syntax (Dynamic Query)
   - Authentication flows
     - Transfer methods
       - Device Code Flow / Authentication Transfer
10. Access controls
    - Grant
      - Block access / Grant access
        - Require multifactor authentication
        - Require authentication strength
        - Require device to be marked as compliant
        - Require Microsoft Entra hybrid joined device
        - Require approved client app
        - Require app protection policy
      - For multiple controls
        - Require all the selected controls
        - Require one of the selected controls
    - Session (This option only works with Global Secure Access resources.)
      - Use app enforced restrictions
      - Use Conditional Access App Control
      - Sign-in frequency
      - Persistent browser session
      - Customize continuous access evaluation
      - Disable resilience defaults
      - Require token protection for sign-in sessions (Generally available for Windows. Preview for MacOS, iOS)
      - Use Global Secure Access security profile
12. Enable policy (Read-Only/On/Off)

### Templates (Prebuilt)

**Templates**:
- **Secure Foundation**
- **Zero Trust**
- **Remort Work**
- **Protect Administrator**
- **Emerging threats**

**Propraties**: 
  - Require multifactor authentication for admins
  - Securing security info registration
  - Block legacy authentication
  - Require multifactor authentication for all users
  - Require multifactor authentication for Azure management
  - Require compliant or hybrid Azure AD joined device or multifactor authentication for all users
  - Require MDM-enrolled and compliant device to access cloud apps for all users (Preview)
  - Require multifactor authentication for guest access
  - Require multifactor authentication for Microsoft admin portals
  - Block access for unknown or unsupported device platform
  - No persistent browser session
  - Use application enforced restrictions for O365 apps
  - Require compliant or hybrid Azure AD joined device for admins
  - Require phishing-resistant multifactor authentication for admins


## Additional | Scope Tags & Administrative Units


# Configure Windows Hello for Business, SSPR and MFA
# Implement and manage LAPS and local group membership
# Synchronizing on-premises users and groups
