# Overview of Identity Solutions

# Choose an appropriate device join type

## Microsoft Entra Device Identity
Microsoft Entra Device Identity is a foundational security feature that binds devices to your Entra ID tenant, enabling secure access, compliance enforcement, and identity-based management across your organization.

---

### Purpose & Capabilities
- Authenticate devices before granting access to resources.
- Enable Conditional Access based on compliance, location, or risk.
- Support MDM solutions like Intune or third-party tools.
- Facilitate Single Sign-On (SSO) across apps and services.
- Enforce device-based Conditional Access (e.g., MFA, block non-compliant devices).
- Provide compliance reporting (encryption, OS version, health).
- Manage device lifecycle: provision, retire, wipe remotely.
- Integrate with Intune for app protection, configuration profiles, and security baselines.

---

## Device Identity Types
| Type                          | Description                                                                 |
|-------------------------------|-----------------------------------------------------------------------------|
| **Microsoft Entra Join**      | For corporate-owned devices; full management and policy enforcement.        |
| **Microsoft Entra Register**  | For personal/BYOD devices; lightweight identity binding for app-level access.|
| **Microsoft Entra Hybrid Join** | For domain-joined devices synced to Entra ID; used in hybrid environments. |

---

## Microsoft Entra - Join

**Used for: Corporate-owned, managed Windows devices**

### Key Characteristics
- Device is joined directly to Entra ID.
- User signs in with Entra ID credentials.
- Enables full lifecycle management via Intune.
- Supports compliance, remote wipe, and configuration profiles.
- Ideal for Autopilot, kiosk, and Zero Trust deployments.

### Impact
- Enterprise-grade security and Conditional Access enforcement.
- Seamless SSO and passwordless sign-in.
- Centralized IT control with Intune integration.
- Local admin group customized for cloud accounts or RBAC holders.
- Supports LAPS via Intune.

> #### 📚 How to Join: References
> 🔗 [Microsoft Learn – Entra Join via OOBE](https://learn.microsoft.com/en-us/entra/identity/devices/device-join-out-of-box) <br>
> 🔗 [CloudInfra – Join Windows Device to Entra ID](https://cloudinfra.net/how-to-join-a-windows-device-to-entra-id/) 

---

## Microsoft Entra - Register

**Used for: Personal devices (BYOD)**

###  Key Characteristics
- Device is *registered* to the Entra ID tenant.
- User signs in with personal account, but apps (e.g., Outlook, Teams) are linked to Entra ID.
- No full device management — only app-level controls.
- Common on iOS, Android, macOS, and personal Windows devices.

### Impact
- Enables secure access from personal devices.
- Supports app-level Conditional Access and protection policies.
- No OS-level compliance enforcement.
- Local admin group remains unchanged.

> #### 📚 How to Register: References
> 🔗 [Microsoft Learn – Entra Registered Devices](https://learn.microsoft.com/en-us/entra/identity/devices/device-registration-overview)


---

##  Microsoft Entra - Hybrid Join

### 🧑‍💼 Used For:
- Domain-joined Windows devices in organizations with both on-premises AD and cloud services.
- Enterprises transitioning to cloud while retaining legacy infrastructure.
- Scenarios requiring access to both cloud apps (Microsoft 365, Intune) and on-prem resources (file shares, printers).

---

### 🔧 Key Characteristics

- Device is joined to **on-premises Active Directory** and **registered with Microsoft Entra ID** via sync.
- Enables **SSO to cloud and on-premises apps** using Primary Refresh Tokens (PRT).
- Requires **Microsoft Entra Connect** to sync device objects to Entra ID.
- Supports **Conditional Access** and **Intune enrollment** (if configured).
- Can be configured through **Windows Autopilot in Intune with the intune Connector** for Active Directory
- Maintains compatibility with **Group Policy**, **Configuration Manager**, and legacy tools.
- Ideal for **existing domain-joined devices** that need cloud access without full migration.

---

### 📊 Hybrid Join – Impact

- **Dual Identity Integration**: Devices operate in both AD and Entra ID environments.
- **SSO Across Platforms**: Users get seamless access to cloud and on-prem apps.
- **Legacy Compatibility**: Supports GPOs, SCCM, and traditional AD-based workflows.
- **Cloud Policy Extension**: Enables Conditional Access and compliance policies via Entra ID.
- **Transition Strategy**: Useful for phased migration to cloud-native management.
- **Requires Infrastructure**: Depends on Entra Connect and domain controller availability.

---

### ⚙️ How to Do Hybrid Join (Steps)

1. **Prepare Microsoft Entra Connect**:
   - Install and configure Entra Connect on a server.
   - Ensure version 1.1.819.0 or later is used.
   - Enable device writeback and sync required Organizational Units (OUs).

2. **Configure Sync Rules**:
   - Do not exclude default device attributes.
   - Ensure computer objects are included in sync scope.

3. **Verify Domain Configuration**:
   - For managed domains: use password hash sync or seamless SSO.
   - For federated domains: configure AD FS and device registration.

4. **Join Devices to AD**:
   - Devices must be domain-joined (via GPO, manual, or provisioning).

5. **Sync Devices to Entra ID**:
   - Entra Connect syncs device objects to Entra ID.
   - Devices become Hybrid Joined automatically.

6. **Validate Join Status**:
   - Run `dsregcmd /status` on client device.
   - Check `AzureAdJoined` and `DomainJoined` both show `YES`.

🔗 [Microsoft Learn – Configure Hybrid Join](https://learn.microsoft.com/en-us/entra/identity/devices/how-to-hybrid-join)

---



# Plan and implement groups for device in Microsoft Entra ID
## Why Use Groups in Microsoft Entra ID?

Groups in Microsoft Entra ID (formerly Azure AD) are essential for scalable identity, access, and device management. They simplify administration, enhance security, and support automation across cloud and hybrid environments.

---

#### 1. Simplified Access Management
- Assign permissions to multiple users or devices at once.
- Control access to resources like SharePoint, Teams, and SaaS apps via group membership.

#### 2. Policy Targeting
- Deploy Conditional Access, Intune policies, and compliance rules to specific groups.
- Target device configurations based on OS, ownership, or enrollment type.

#### 3. Automation with Dynamic Groups
- Automatically include users or devices based on attributes (e.g., department, OS type).
- Reduce manual overhead and ensure real-time group accuracy.

#### 4. App Assignment and Licensing
- Assign Microsoft 365 or SaaS app access to groups.
- Manage license distribution efficiently using group-based licensing.

#### 5. Security and Governance
- Enforce role-based access control (RBAC) using security groups.
- Audit group membership changes for compliance and security reviews.

#### 6. Lifecycle Management
- Align group membership with onboarding, role changes, and offboarding.
- Use groups to trigger workflows in identity governance and provisioning.

> 📚 References
> - [Overview of groups in Microsoft Entra ID](https://learn.microsoft.com/en-us/entra/fundamentals/concept-learn-about-groups)
> - [Dynamic membership rules for groups](https://learn.microsoft.com/en-us/entra/identity/users/groups-dynamic-membership)
> - [Group-based licensing in Microsoft Entra ID](https://learn.microsoft.com/en-us/entra/identity/licensing/group-based)

---

### Group Types:
- **Security**: Assigns access to apps, SharePoint, Intune policies, Conditional Access, and RBAC.
- **Mail-enabled security groups**: Combines access control with email distribution capabilities. 
- **Microsoft 365**: Powers collaboration with shared resources like Outlook, SharePoint, Teams.
- **Teams**: Built on Microsoft 365 Groups to enable chat, meetings, and file sharing. 
- **Distribution Lists**: Sends email to multiple recipients without access or collaboration features.

> Typically, you'll find all group types listed in the **Microsoft 365 Admin Center**, whereas **Intune** and **Microsoft Entra ID** display only **Security and Microsoft 365 groups**.

---

### Groups Membership:
- **Assigned**: Manually add devices to a group. Best for small, static sets or when dynamic attributes are unavailable.
- **Dynamic**: Automatically adds or removes users or devices based on defined attribute-based rules—eliminating manual group management.

> Example of dynamic query: `(device.deviceOSType -eq "Windows")` and `(device.deviceOwnership -eq "Corporate")`

---

### User Groups vs Device Groups in Microsoft Entra ID

| Feature                  | User Groups                                      | Device Groups                                      |
|--------------------------|--------------------------------------------------|----------------------------------------------------|
| **Purpose**              | Manage access for users                          | Manage policies and access for devices             |
| **Membership Type**      | Users (manual or dynamic)                        | Devices (manual or dynamic)                        |
| **Common Use Cases**     | App access, licensing, RBAC                      | Intune policies, Conditional Access                |
| **Dynamic Rule Attributes** | `user.department`, `user.jobTitle`           | `device.deviceOSType`, `device.trustType`          |
| **Lifecycle Integration**| Onboarding, role changes, offboarding           | Enrollment, compliance, retirement                 |
| **Limitations**          | Cannot include devices                           | Cannot include users                               |


---

## What Is an Entra Role?

An **Entra role** is a predefined or custom permission set that governs access to identity-related resources such as users, groups, devices, applications, and policies in Microsoft Entra ID (formerly Azure AD).

---

### Key Characteristics

- **Scope**: Applies to identity resources, not Azure infrastructure.
- **Assignment**: Can be assigned to users, groups, or service principals.
- **Granularity**: Roles are task-specific and support fine-grained access control.
- **RBAC Model**: Enforces least privilege by limiting access to only what's necessary.

---

### Common Built-In Roles

| Role Name                      | Description                                                                 |
|--------------------------------|-----------------------------------------------------------------------------|
| **Global Administrator**       | Full access to all Entra ID features and settings.                         |
| **User Administrator**         | Manage users, groups, and password resets.                                 |
| **Application Administrator**  | Manage enterprise applications and app registrations.                      |
| **Groups Administrator**       | Create, manage, and delete groups and memberships.                         |
| **Authentication Administrator** | Manage MFA settings and authentication methods.                         |
| **Privileged Role Administrator** | Assign roles and manage role settings.                              |

> Microsoft Entra includes over **100 built-in roles**, each tailored to specific administrative tasks.

---

### Custom Roles
- Available with **Microsoft Entra ID P1 or P2** licenses.
- Define granular permissions using **Microsoft Graph API actions**.
- Useful for delegating narrowly scoped tasks (e.g., managing only device settings or app permissions).

> ### 📚 References
> - [Microsoft Entra built-in roles](https://learn.microsoft.com/en-us/entra/identity/role-based-access-control/permissions-reference)
> - [Create and manage custom roles in Microsoft Entra ID](https://learn.microsoft.com/en-us/entra/identity/role-based-access-control/custom-roles)
> - [RBAC overview for Microsoft Entra](https://learn.microsoft.com/en-us/entra/identity/role-based-access-control/overview)


## What Is RBAC in Microsoft Entra ID?
RBAC in Entra ID allows organizations to grant **just the right level of access** to manage identity resources—such as users, groups, devices, applications, and policies—without giving unnecessary permissions. It’s a core part of Microsoft Entra’s identity governance and security strategy.

- **RBAC** is the framework, and Entra roles are the tools used within that framework.
- Microsoft Entra implements **RBAC** by assigning roles to users, groups, or service principals to manage identity-related tasks.

> ### 📌 Example
> Assigning the User Administrator role to a helpdesk technician is an application of RBAC using an Entra role.

