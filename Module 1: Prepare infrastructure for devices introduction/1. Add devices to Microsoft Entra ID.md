# Overview of Identity Solutions

# Choose an appropriate device join type

## üîê Microsoft Entra Device Identity

Microsoft Entra Device Identity is a foundational security feature that binds devices to your Entra ID tenant, enabling secure access, compliance enforcement, and identity-based management across your organization.

---

### üß© Purpose & Capabilities

- **Authenticate devices** before granting access to resources.
- **Enable Conditional Access** based on device compliance, location, or risk.
- **Support Mobile Device Management (MDM)** with Intune or third-party tools.
- **Facilitate Single Sign-On (SSO)** across apps and services.
- **Device-based Conditional Access**: Enforce policies like MFA or block access from non-compliant devices.
- **Compliance Reporting**: Track device health, OS version, encryption status, and more.
- **Lifecycle Management**: Provision, retire, and wipe devices remotely.
- **Integration with Intune**: Apply configuration profiles, app protection policies, and security baselines.

---

## üõ†Ô∏è Device Identity Types

| Type                         | Description                                                                 |
|------------------------------|-----------------------------------------------------------------------------|
| **Microsoft Entra Join**     | For corporate-owned devices; full management and policy enforcement         |
| **Microsoft Entra Register** | For personal/BYOD devices; lightweight identity binding for app-level access|
| **Microsoft Entra Hybrid Join** | For domain-joined devices synced to Entra ID; used in hybrid environments   |

---

## üñ•Ô∏è Microsoft Entra Join

**Used for: Corporate-owned, managed Windows devices**

### üîß Key Characteristics
- Device is *joined* to the Entra ID tenant.
- User signs in with Entra ID credentials.
- Enables full device lifecycle management via Intune.
- Supports compliance policies, remote wipe, and configuration profiles.
- Ideal for Windows Autopilot and Zero Trust environments.

### üîê Entra Join ‚Äì Impact

- **Enterprise-Grade Security**: Enforces full compliance, encryption, and Conditional Access at the device level.
- **Streamlined User Experience**: Enables seamless SSO and passwordless sign-in with Entra ID credentials.
- **Centralized IT Control**: Full device lifecycle management via Intune, including provisioning, updates, and remote wipe.
- **Zero Trust Enablement**: Strong alignment with Zero Trust principles through device trust and compliance enforcement.
- **Ideal for Corporate Devices**: Best suited for Windows Autopilot, kiosk setups, and managed enterprise endpoints.
- **Interactive Sign-In**: User can sign in interactively using Entra ID account.
- **SSO Across Environments**: User has SSO to cloud apps and on-premises apps in hybrid environments (where relevant).
- **Admin Group Customization**: Local administrators group modified to contain specific cloud accounts and/or Global admin RBAC role holders.
- **LAPS Integration**: Local Administrator Password Solution (LAPS) can be implemented for the device via Intune.

### üîê Microsoft Entra Join ‚Äì Steps

1. **Start from OOBE (Out-of-Box Experience)** - On a new or reset Windows 10/11 device, choose *Set up for work or school*.
2. **Sign in with Entra ID credentials** - Enter your organization-provided work or school account (e.g., user@company.com).
3. **Device joins Microsoft Entra ID** - The device is automatically joined to your Entra tenant and a device object is created.
4. **Automatic Intune Enrollment (if configured)** - If MDM auto-enrollment is enabled, the device is enrolled into Intune for management.
5. **Local Administrator Group Update** - The local administrators group is modified to include the signed-in Entra ID user or Global Admins.
6. **SSO and Compliance Activation**  - Device receives configuration profiles, compliance policies, and enables SSO across Microsoft 365 and enterprise apps.

üîó [Microsoft Learn ‚Äì Entra Join via OOBE](https://learn.microsoft.com/en-us/entra/identity/devices/device-join-out-of-box) 
üîó [CloudInfra ‚Äì Join Windows Device to Entra ID](https://cloudinfra.net/how-to-join-a-windows-device-to-entra-id/) 

---

## üì± Microsoft Entra Register

**Used for: Personal devices (BYOD)**

### üîß Key Characteristics
- Device is *registered* to the Entra ID tenant.
- User signs in with personal account, but apps (e.g., Outlook, Teams) are linked to Entra ID.
- No full device management ‚Äî only app-level controls.
- Common on iOS, Android, macOS, and personal Windows devices.

### üì± Entra Register ‚Äì Impact

- **BYOD Flexibility**: Allows secure access from personal devices without full enrollment.
- **Lightweight Management**: Supports app-level Conditional Access and protection policies via Intune.
- **Improved Adoption**: Encourages productivity by enabling access to Teams, Outlook, and other apps on personal devices.
- **Limited Control**: No OS-level compliance enforcement; relies on app protection and sign-in risk policies.
- **Great for Mobile and Remote Work**: Ideal for contractors, mobile users, and hybrid work scenarios.
- **Local Sign-In Requirement**: User must sign in interactively using local user account.
- **Cloud Credential Prompt**: User must provide cloud credentials to access cloud content from local apps.
- **Unmodified Admin Group**: Device‚Äôs local Administrators group remains unchanged following device registration.

### üì± Microsoft Entra Register ‚Äì Steps

1. **Use a personal or BYOD device** - This can be a Windows, macOS, iOS, or Android device not managed by the organization.
2. **Open a Microsoft 365 app** - Launch Outlook, Teams, OneDrive, or any other Microsoft 365 app.
3. **Sign in with your Entra ID account** - Enter your work or school credentials (e.g., user@company.com) when prompted.
4. **Device registration occurs automatically** - A lightweight device object is created in Microsoft Entra ID.
5. **App-level policies are applied** - Conditional Access and Intune app protection policies (e.g., data encryption, copy/paste restrictions) are enforced.
6. **No OS-level control or enrollment** - The device remains unmanaged; no compliance policies or full lifecycle control.
7. **Local admin group remains unchanged** - The device‚Äôs local Administrators group is not modified.
8. **Cloud access requires credentials** - Users must sign in interactively using their local account and provide cloud credentials to access Microsoft 365 content.

üîó [Microsoft Learn ‚Äì Entra Registered Devices](https://learn.microsoft.com/en-us/entra/identity/devices/device-registration-overview)


---

## üß© Microsoft Entra Hybrid Join

### üßë‚Äçüíº Used For:
- Domain-joined Windows devices in organizations with both on-premises AD and cloud services.
- Enterprises transitioning to cloud while retaining legacy infrastructure.
- Scenarios requiring access to both cloud apps (Microsoft 365, Intune) and on-prem resources (file shares, printers).

---

### üîß Key Characteristics

- Device is joined to **on-premises Active Directory** and **registered with Microsoft Entra ID** via sync.
- Enables **SSO to cloud and on-premises apps** using Primary Refresh Tokens (PRT).
- Requires **Microsoft Entra Connect** to sync device objects to Entra ID.
- Supports **Conditional Access** and **Intune enrollment** (if configured).
- Can be configured through **Windows Autopilot in Intune with the intune Connector** for Active Directory
- Maintains compatibility with **Group Policy**, **Configuration Manager**, and legacy tools.
- Ideal for **existing domain-joined devices** that need cloud access without full migration.

---

### üìä Hybrid Join ‚Äì Impact

- **Dual Identity Integration**: Devices operate in both AD and Entra ID environments.
- **SSO Across Platforms**: Users get seamless access to cloud and on-prem apps.
- **Legacy Compatibility**: Supports GPOs, SCCM, and traditional AD-based workflows.
- **Cloud Policy Extension**: Enables Conditional Access and compliance policies via Entra ID.
- **Transition Strategy**: Useful for phased migration to cloud-native management.
- **Requires Infrastructure**: Depends on Entra Connect and domain controller availability.

---

### ‚öôÔ∏è How to Do Hybrid Join (Steps)

1. **Prepare Microsoft Entra Connect**:
   - Install and configure Entra Connect on a server.
   - Ensure version 1.1.819.0 or later is used.
   - Enable device writeback and sync required Organizational Units (OUs).

2. **Configure Sync Rules**:
   - Do not exclude default device attributes.
   - Ensure computer objects are included in sync scope.

3. **Verify Domain Configuration**:
   - For managed domains: use password hash sync or seamless SSO.
   - For federated domains: configure AD FS and device registration.

4. **Join Devices to AD**:
   - Devices must be domain-joined (via GPO, manual, or provisioning).

5. **Sync Devices to Entra ID**:
   - Entra Connect syncs device objects to Entra ID.
   - Devices become Hybrid Joined automatically.

6. **Validate Join Status**:
   - Run `dsregcmd /status` on client device.
   - Check `AzureAdJoined` and `DomainJoined` both show `YES`.

üîó [Microsoft Learn ‚Äì Configure Hybrid Join](https://learn.microsoft.com/en-us/entra/identity/devices/how-to-hybrid-join)

---



# Plan and implement groups for device in Microsoft Entra ID
## Why Use Groups in Microsoft Entra ID?

Groups in Microsoft Entra ID (formerly Azure AD) are essential for scalable identity, access, and device management. They simplify administration, enhance security, and support automation across cloud and hybrid environments.

---

#### 1. Simplified Access Management
- Assign permissions to multiple users or devices at once.
- Control access to resources like SharePoint, Teams, and SaaS apps via group membership.

#### 2. Policy Targeting
- Deploy Conditional Access, Intune policies, and compliance rules to specific groups.
- Target device configurations based on OS, ownership, or enrollment type.

#### 3. Automation with Dynamic Groups
- Automatically include users or devices based on attributes (e.g., department, OS type).
- Reduce manual overhead and ensure real-time group accuracy.

#### 4. App Assignment and Licensing
- Assign Microsoft 365 or SaaS app access to groups.
- Manage license distribution efficiently using group-based licensing.

#### 5. Security and Governance
- Enforce role-based access control (RBAC) using security groups.
- Audit group membership changes for compliance and security reviews.

#### 6. Lifecycle Management
- Align group membership with onboarding, role changes, and offboarding.
- Use groups to trigger workflows in identity governance and provisioning.

> üìö References
> - [Overview of groups in Microsoft Entra ID](https://learn.microsoft.com/en-us/entra/fundamentals/concept-learn-about-groups)
> - [Dynamic membership rules for groups](https://learn.microsoft.com/en-us/entra/identity/users/groups-dynamic-membership)
> - [Group-based licensing in Microsoft Entra ID](https://learn.microsoft.com/en-us/entra/identity/licensing/group-based)

---

### Group Types:
- **Security**: Assigns access to apps, SharePoint, Intune policies, Conditional Access, and RBAC.
- **Mail-enabled security groups**: Combines access control with email distribution capabilities. 
- **Microsoft 365**: Powers collaboration with shared resources like Outlook, SharePoint, Teams.
- **Teams**: Built on Microsoft 365 Groups to enable chat, meetings, and file sharing. 
- **Distribution Lists**: Sends email to multiple recipients without access or collaboration features.

> Typically, you'll find all group types listed in the **Microsoft 365 Admin Center**, whereas **Intune** and **Microsoft Entra ID** display only **Security and Microsoft 365 groups**.

---

### Groups Membership:
- **Assigned**: Manually add devices to a group. Best for small, static sets or when dynamic attributes are unavailable.
- **Dynamic**: Automatically adds or removes users or devices based on defined attribute-based rules‚Äîeliminating manual group management.

> Example of dynamic query: `(device.deviceOSType -eq "Windows")` and `(device.deviceOwnership -eq "Corporate")`

---

### User Groups vs Device Groups in Microsoft Entra ID

| Feature                  | User Groups                                      | Device Groups                                      |
|--------------------------|--------------------------------------------------|----------------------------------------------------|
| **Purpose**              | Manage access for users                          | Manage policies and access for devices             |
| **Membership Type**      | Users (manual or dynamic)                        | Devices (manual or dynamic)                        |
| **Common Use Cases**     | App access, licensing, RBAC                      | Intune policies, Conditional Access                |
| **Dynamic Rule Attributes** | `user.department`, `user.jobTitle`           | `device.deviceOSType`, `device.trustType`          |
| **Lifecycle Integration**| Onboarding, role changes, offboarding           | Enrollment, compliance, retirement                 |
| **Limitations**          | Cannot include devices                           | Cannot include users                               |


---

## What Is an Entra Role?

An **Entra role** is a predefined or custom permission set that governs access to identity-related resources such as users, groups, devices, applications, and policies in Microsoft Entra ID (formerly Azure AD).

---

### Key Characteristics

- **Scope**: Applies to identity resources, not Azure infrastructure.
- **Assignment**: Can be assigned to users, groups, or service principals.
- **Granularity**: Roles are task-specific and support fine-grained access control.
- **RBAC Model**: Enforces least privilege by limiting access to only what's necessary.

---

### Common Built-In Roles

| Role Name                      | Description                                                                 |
|--------------------------------|-----------------------------------------------------------------------------|
| **Global Administrator**       | Full access to all Entra ID features and settings.                         |
| **User Administrator**         | Manage users, groups, and password resets.                                 |
| **Application Administrator**  | Manage enterprise applications and app registrations.                      |
| **Groups Administrator**       | Create, manage, and delete groups and memberships.                         |
| **Authentication Administrator** | Manage MFA settings and authentication methods.                         |
| **Privileged Role Administrator** | Assign roles and manage role settings.                              |

> Microsoft Entra includes over **100 built-in roles**, each tailored to specific administrative tasks.

---

### Custom Roles
- Available with **Microsoft Entra ID P1 or P2** licenses.
- Define granular permissions using **Microsoft Graph API actions**.
- Useful for delegating narrowly scoped tasks (e.g., managing only device settings or app permissions).

> ### üìö References
> - [Microsoft Entra built-in roles](https://learn.microsoft.com/en-us/entra/identity/role-based-access-control/permissions-reference)
> - [Create and manage custom roles in Microsoft Entra ID](https://learn.microsoft.com/en-us/entra/identity/role-based-access-control/custom-roles)
> - [RBAC overview for Microsoft Entra](https://learn.microsoft.com/en-us/entra/identity/role-based-access-control/overview)


## What Is RBAC in Microsoft Entra ID?
RBAC in Entra ID allows organizations to grant **just the right level of access** to manage identity resources‚Äîsuch as users, groups, devices, applications, and policies‚Äîwithout giving unnecessary permissions. It‚Äôs a core part of Microsoft Entra‚Äôs identity governance and security strategy.

- **RBAC** is the framework, and Entra roles are the tools used within that framework.
- Microsoft Entra implements **RBAC** by assigning roles to users, groups, or service principals to manage identity-related tasks.

> ### üìå Example
> Assigning the User Administrator role to a helpdesk technician is an application of RBAC using an Entra role.

